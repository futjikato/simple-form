<link rel="import" href="bower_components/polymer/polymer.html">

<!--
Inner form question block
Template origin http://tympanus.net/codrops/2014/04/01/minimal-form-interface/

##### Example

```
<simple-form>
    <simple-form-question>Question 1</simple-form-question>
</simple-form>
```

@element simple-form-question
@blurb Renders a simple form. See the original demo at tympanus.net
@status alpha
@homepage http://futjikato.github.io/simple-form
-->
<polymer-element name="simple-form-question" attributes="name type required">
    <template>
        <link rel="stylesheet" type="text/css" href="simple-form-question.css">
        <span>
            <label for="question"><content/></label>
        </span>
        <input id="question" on-keyDown="{{ keydown }}" name="{{ name }}" type="{{ type }}" value="{{ val }}"/>
    </template>
    <script>
        (function() {
            'use strict';

            Polymer('simple-form-question', {
                name: '',
                type: 'text',
                required: false,
                formElement : null,
                val: '',
                getValue: function() {
                    return this.val;
                },
                domReady: function() {
                    this.formElement = this.parentNode;
                },
                submitToParent: function() {
                    this.formElement.fire('question-done', this.getValue());
                },
                keydown: function(e) {
                    if(e.keyCode == 13) {
                        e.preventDefault();
                        this.submitToParent();
                    }
                }
            });
        })();
    </script>
</polymer-element>